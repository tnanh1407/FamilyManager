<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
           x:Class="FamilyManager.Views.RegisterPage"
             NavigationPage.HasNavigationBar="False">

    <ContentPage.Resources>
        <Color x:Key="PrimaryColor">#667eea</Color>
        <Color x:Key="SecondaryColor">#764ba2</Color>
        <Color x:Key="CardBackground">#FFFFFF</Color>
        <Color x:Key="TextColor">#333333</Color>
        <Color x:Key="PlaceholderColor">#A0A0A0</Color>
        <Color x:Key="IconColor">#909090</Color>

        <Style x:Key="InputFrameStyle" TargetType="Border">
            <Setter Property="StrokeShape" Value="RoundRectangle 12"/>
            <Setter Property="StrokeThickness" Value="1"/>
            <Setter Property="Stroke" Value="#E0E0E0"/>
            <Setter Property="BackgroundColor" Value="#F8F9FA"/>
            <Setter Property="HeightRequest" Value="50"/>
            <Setter Property="Padding" Value="15,0"/>
            <Setter Property="Margin" Value="0,0,0,15"/>
        </Style>
    </ContentPage.Resources>

    <Grid>
        <Grid.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="{StaticResource PrimaryColor}" Offset="0.0" />
                <GradientStop Color="{StaticResource SecondaryColor}" Offset="1.0" />
            </LinearGradientBrush>
        </Grid.Background>

        <ScrollView VerticalScrollBarVisibility="Never">
            <VerticalStackLayout Padding="30" VerticalOptions="Center">

                <Label Text="Tạo Tài Khoản"
                       TextColor="White"
                       FontSize="32"
                       FontAttributes="Bold"
                       HorizontalOptions="Start"
                       Margin="0,0,0,5" />

                <Label Text="Tham gia cùng gia đình bạn ngay hôm nay"
                       TextColor="#E0E0E0"
                       FontSize="16"
                       HorizontalOptions="Start"
                       Margin="0,0,0,30" />

                <Border StrokeThickness="0"
                        BackgroundColor="{StaticResource CardBackground}"
                        Padding="25,35,25,35">
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="30"/>
                    </Border.StrokeShape>
                    <Border.Shadow>
                        <Shadow Brush="Black" Offset="0,10" Radius="30" Opacity="0.15"/>
                    </Border.Shadow>

                    <VerticalStackLayout>

                        <Border Style="{StaticResource InputFrameStyle}">
                            <Grid ColumnDefinitions="30, *">
                                <Path Grid.Column="0" 
                                      Data="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z"
                                      Fill="{StaticResource IconColor}"
                                      Aspect="Uniform"
                                      HeightRequest="18"
                                      VerticalOptions="Center"/>

                                <Entry Grid.Column="1"
                                       Text="{Binding FullName}"
                                       Placeholder="Họ và tên"
                                       PlaceholderColor="{StaticResource PlaceholderColor}"
                                       TextColor="{StaticResource TextColor}"
                                       FontSize="15"
                                       Margin="10,0,0,0"/>
                            </Grid>
                        </Border>

                        <Border Style="{StaticResource InputFrameStyle}">
                            <Grid ColumnDefinitions="30, *">
                                <Path Grid.Column="0" 
                                      Data="M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z"
                                      Fill="{StaticResource IconColor}"
                                      Aspect="Uniform"
                                      HeightRequest="18"
                                      VerticalOptions="Center"/>

                                <Entry Grid.Column="1"
                                       Text="{Binding Email}"
                                       Placeholder="Email"
                                       Keyboard="Email"
                                       PlaceholderColor="{StaticResource PlaceholderColor}"
                                       TextColor="{StaticResource TextColor}"
                                       FontSize="15"
                                       Margin="10,0,0,0"/>
                            </Grid>
                        </Border>

                        <Border Style="{StaticResource InputFrameStyle}">
                            <Grid ColumnDefinitions="30, *">
                                <Path Grid.Column="0" 
                                      Data="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8H17V6A5,5 0 0,0 7,6V8H6A2,2 0 0,0 4,10V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V10A2,2 0 0,0 18,8M12,17A2,2 0 0,1 12,13C13.1,13 14,13.89 14,15A2,2 0 0,1 12,17Z"
                                      Fill="{StaticResource IconColor}"
                                      Aspect="Uniform"
                                      HeightRequest="18"
                                      VerticalOptions="Center"/>

                                <Entry Grid.Column="1"
                                       Text="{Binding Password}"
                                       Placeholder="Mật khẩu"
                                       IsPassword="True"
                                       PlaceholderColor="{StaticResource PlaceholderColor}"
                                       TextColor="{StaticResource TextColor}"
                                       FontSize="15"
                                       Margin="10,0,0,0"/>
                            </Grid>
                        </Border>

                        <Border Style="{StaticResource InputFrameStyle}">
                            <Grid ColumnDefinitions="30, *">
                                <Path Grid.Column="0" 
                                      Data="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8H17V6A5,5 0 0,0 7,6V8H6A2,2 0 0,0 4,10V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V10A2,2 0 0,0 18,8M12,17A2,2 0 0,1 12,13C13.1,13 14,13.89 14,15A2,2 0 0,1 12,17Z"
                                      Fill="{StaticResource IconColor}"
                                      Aspect="Uniform"
                                      HeightRequest="18"
                                      VerticalOptions="Center"/>

                                <Entry Grid.Column="1"
                                       Text="{Binding ConfirmPassword}"
                                       Placeholder="Xác nhận mật khẩu"
                                       IsPassword="True"
                                       PlaceholderColor="{StaticResource PlaceholderColor}"
                                       TextColor="{StaticResource TextColor}"
                                       FontSize="15"
                                       Margin="10,0,0,0"/>
                            </Grid>
                        </Border>

                        <Button Text="ĐĂNG KÝ NGAY"
                                Command="{Binding RegisterCommand}"
                                TextColor="White"
                                FontAttributes="Bold"
                                FontSize="16"
                                CornerRadius="25"
                                HeightRequest="55"
                                Margin="0,10,0,0">
                            <Button.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                    <GradientStop Color="{StaticResource PrimaryColor}" Offset="0.1" />
                                    <GradientStop Color="{StaticResource SecondaryColor}" Offset="1.0" />
                                </LinearGradientBrush>
                            </Button.Background>
                            <Button.Shadow>
                                <Shadow Brush="{StaticResource PrimaryColor}" Offset="0,5" Radius="10" Opacity="0.4"/>
                            </Button.Shadow>
                        </Button>

                    </VerticalStackLayout>
                </Border>

                <HorizontalStackLayout HorizontalOptions="Center" Spacing="5" Margin="0,30,0,0">
                    <Label Text="Bạn đã có tài khoản?"
                           TextColor="#E0E0E0"
                           FontSize="14"/>
                    <Label Text="Đăng nhập" 
                           TextColor="White" 
                           FontAttributes="Bold" 
                           FontSize="14">
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding NavigateBackCommand}"/>
                        </Label.GestureRecognizers>
                    </Label>
                </HorizontalStackLayout>

            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>